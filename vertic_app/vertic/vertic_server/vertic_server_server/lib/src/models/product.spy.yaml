class: Product
table: products
fields:
  # Grunddaten (bestehend)
  name: String
  description: String?
  categoryId: int?               # Optional (neue Artikel ohne Kategorie)
  price: double
  barcode: String?               # EAN/UPC Barcode
  sku: String?                   # Stock Keeping Unit
  hallId: int?                   # Hallen-spezifisch
  
  # Erweiterte Preisgestaltung
  costPrice: double?             # Einkaufspreis (optional)
  marginPercentage: double?      # Gewinnmarge in Prozent
  
  # Erweiterte Lagerbestand-Funktionen
  stockQuantity: int?            # Aktueller Lagerbestand
  minStockThreshold: int?        # Mindestbestand f√ºr Warnungen
  
  # Status & Flags (erweitert)
  isActive: bool, default=true   # Artikel ist im Verkauf verf√ºgbar
  isFoodItem: bool, default=false # Lebensmittel (f√ºr Open Food Facts)
  
  # üèõÔ∏è DACH-Compliance Integration
  taxClassId: int?               # Foreign Key zu tax_classes (nullable f√ºr Migration)
  defaultCountryId: int?         # Standard-Land f√ºr Steuerberechnung
  complianceSettings: String?    # JSON mit l√§nderspezifischen Einstellungen
  
  # Compliance-Flags
  requiresTSESignature: bool, default=false   # Deutschland: TSE-Signatur erforderlich
  requiresAgeVerification: bool, default=false # Alkohol/Tabak Alterspr√ºfung
  isSubjectToSpecialTax: bool, default=false  # Sondersteuer (Alkohol, Tabak)
  
  # Open Food Facts Integration
  openFoodFactsId: String?       # Produkt-ID von Open Food Facts
  imageUrl: String?              # Produkt-Foto URL
  
  # Metadaten
  createdByStaffId: int?         # Wer hat den Artikel erstellt (nullable f√ºr bestehende)
  createdAt: DateTime?           # Nullable f√ºr bestehende Daten
  updatedAt: DateTime?

indexes:
  products_barcode_idx:
    fields: barcode
  products_category_idx:
    fields: categoryId
  products_active_idx:
    fields: isActive
  products_stock_idx:
    fields: stockQuantity
  products_creator_idx:
    fields: createdByStaffId
  products_hall_idx:
    fields: hallId
  # üèõÔ∏è DACH-Compliance Indexes
  products_tax_class_idx:
    fields: taxClassId
  products_country_idx:
    fields: defaultCountryId
  products_tse_required_idx:
    fields: requiresTSESignature 